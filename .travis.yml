language: go
go:
  - stable

notifications:
  email: false

env:
  global:
    - secure: "JtfIj2ItU0o6/wxnwaCULmPnWO1fQHrX3hGbWey56hPzybA3pQEs5YOZt16nQU5GS8p3Z3OIILUP4LGebqsLU5dyWA/GxnZv45MoZ8TS8lB7aie7l5Y6yYvq0ZBJoMWxXSY6sZJ1sKJG1F7NlQoknZToxvlkfF4nP9N5RQpL8iU="
    - PATH=$HOME/gopath/bin:$PATH

install:
  - go get -t -v ./...

before_script:
  - go get -u golang.org/x/tools/cmd/cover
  - go get -u golang.org/x/tools/cmd/goimports
  - go get -u github.com/golang/lint/golint
  - go get -u github.com/mattn/goveralls
  - go get -u github.com/golangci/golangci-lint/cmd/golangci-lint
  - wget https://raw.githubusercontent.com/mewmew/ci/master/ci_checks.sh
  - chmod +x ci_checks.sh

script:
  - export GOLANGCI_LINT_DISABLE_CHECKS='--disable maligned,lll,dupl --exclude "(G501:|G401:|Error return value of .md5sum\.Write. is not checked)"'
  - ./ci_checks.sh

# skip G501: Import blacklist: crypto/md5
